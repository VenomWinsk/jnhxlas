(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c9f9077"],{"221a":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"unit-modal"},[n("a-modal",{staticClass:"modalCls",attrs:{title:t.title,visible:t.unitVisible,cancelText:"取消",okText:"确定",mask:!1,maskClosable:!1,width:650},on:{cancel:t.handleCancel}},[n("a-form-model",{ref:"unitForm",staticStyle:{"margin-bottom":"20px"},attrs:{model:t.unitForm,rules:t.unitFormRule}},[n("a-row",{attrs:{gutter:[24,24],type:"flex",justify:"center"}},[n("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:24,xl:24}},[n("a-form-model-item",{attrs:{label:"单位名称",prop:"cname"}},[n("a-input",{attrs:{placeholder:"请输入单位名称"},model:{value:t.unitForm.cname,callback:function(e){t.$set(t.unitForm,"cname",e)},expression:"unitForm.cname"}})],1)],1)],1),n("a-row",{attrs:{gutter:[24,24],type:"flex",justify:"center"}},[n("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:24,xl:24}},[n("a-form-model-item",{attrs:{label:"单位别名",prop:"ename"}},[n("a-input",{attrs:{placeholder:"请输入单位唯一别名"},model:{value:t.unitForm.ename,callback:function(e){t.$set(t.unitForm,"ename",e)},expression:"unitForm.ename"}})],1)],1)],1),n("a-row",{attrs:{gutter:[24,24],type:"flex",justify:"center"}},[n("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:24,xl:24}},[n("a-form-model-item",{attrs:{label:"单位地址"}},[n("a-input",{attrs:{placeholder:"请输入单位地址"},model:{value:t.unitForm.city,callback:function(e){t.$set(t.unitForm,"city",e)},expression:"unitForm.city"}})],1)],1)],1),n("a-row",{attrs:{gutter:[24,24],type:"flex",justify:"center"}},[n("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:24,xl:24}},[n("a-form-model-item",{attrs:{label:"单位联系人"}},[n("a-input",{attrs:{placeholder:"请输入单位联系人"},model:{value:t.unitForm.contact,callback:function(e){t.$set(t.unitForm,"contact",e)},expression:"unitForm.contact"}})],1)],1)],1),n("a-row",{attrs:{gutter:[24,24],type:"flex",justify:"center"}},[n("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:24,xl:24}},[n("a-form-model-item",{attrs:{label:"单位电话"}},[n("a-input",{attrs:{placeholder:"请输入单位电话"},model:{value:t.unitForm.telephone,callback:function(e){t.$set(t.unitForm,"telephone",e)},expression:"unitForm.telephone"}})],1)],1)],1),n("a-row",{attrs:{gutter:[24,24],type:"flex",justify:"center"}},[n("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:24,xl:24}},[n("a-form-model-item",{attrs:{label:"单位描述",prop:"description"}},[n("a-textarea",{attrs:{placeholder:"请输入单位描述信息",rows:"4"},model:{value:t.unitForm.description,callback:function(e){t.$set(t.unitForm,"description",e)},expression:"unitForm.description"}})],1)],1)],1)],1),n("template",{slot:"footer"},[n("a-button",{attrs:{type:"link",ghost:""},on:{click:t.handleCancel}},[t._v("取消")]),n("a-button",{attrs:{type:"primary"},on:{click:t.handleOk}},[t._v("提交")])],1)],2)],1)},i=[],o=(n("a9e3"),{name:"unit-modal",props:{unitVisible:{type:Boolean,default:!1,required:!0},title:{type:String,default:"添加/编辑单位"},content:{type:Object,default:function(){return{cname:"",ename:"",city:"",contact:"",telephone:"",description:"",creator:"",createTime:"",updateTime:""}}},optType:{type:Number,default:0,required:!0}},data:function(){return{unitFormRule:{cname:[{required:!0,message:"请输入单位名称",trigger:"blur"}],ename:[{required:!0,message:"请输入单位别名",trigger:"blur"}],city:[{required:!0,message:"请输入单位地址",trigger:"blur"}],contact:[{required:!0,message:"请输入单位联系人",trigger:"blur"}],telephone:[{required:!0,message:"请输入单位电话",trigger:"blur"}]},unitForm:{cname:"",ename:"",city:"",contact:"",telephone:"",description:""}}},methods:{handleOk:function(){var t=this;this.$refs.unitForm.validate((function(e){if(!e)return t.$message.warning("输入有误，请检查"),!1;t.$emit("unitOk",{formContent:t.unitForm,optType:t.optType})}))},handleCancel:function(){this.$emit("unitCancel","我点击取消")}},watch:{content:{handler:function(t){Object.assign(this.unitForm,t)},deep:!0}}}),r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);e["a"]=c.exports},"282d":function(t,e,n){},7156:function(t,e,n){var a=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var o,r;return i&&"function"==typeof(o=e.constructor)&&o!==n&&a(r=o.prototype)&&r!==n.prototype&&i(t,r),t}},8159:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"unit"},[n("div",{staticClass:"tableTopTools clearfix"},[n("p",{staticClass:"toolName fl"},[t._v("工具栏：")]),n("div",{staticClass:"buttons fl"},[n("a-button",{attrs:{type:"primary"},on:{click:t.optUnit}},[n("a-icon",{attrs:{type:"plus"}}),t._v("添加单位 ")],1)],1),n("div",{staticClass:"searchInput fr"},[n("a-input-search",{attrs:{placeholder:"请输入单位名称"},on:{change:t.keywordChange},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1)]),n("div",{staticClass:"tableContent"},[n("a-table",{attrs:{columns:t.columns,dataSource:t.unitData,rowKey:"id",pagination:!1},scopedSlots:t._u([{key:"gmtCreate",fn:function(e,a){return n("span",{},[n("span",[t._v(t._s(t._f("dateFormatter")(a.gmtCreate,1)))])])}},{key:"gmtModified",fn:function(e,a){return n("span",{},[n("span",[t._v(t._s(t._f("dateFormatter")(a.gmtModified,1)))])])}},{key:"action",fn:function(e,a){return n("span",{},[n("a",{staticClass:"t-optColor-normal",on:{click:function(e){return t.editUnit(a)}}},[t._v("编辑")]),n("a",{staticClass:"t-optColor-warning",on:{click:function(e){return t.deleteUnit(a)}}},[t._v("删除")])])}}])}),t.unitData.length>0?n("div",{staticClass:"ar",staticStyle:{"margin-top":"30px"}},[n("a-pagination",{attrs:{total:t.total,"page-size":t.pageParam.size},on:{change:t.pageChange},model:{value:t.pageParam.page,callback:function(e){t.$set(t.pageParam,"page",e)},expression:"pageParam.page"}})],1):t._e()],1),n("unitModal",{attrs:{unitVisible:t.unitVisible,content:t.content,optType:t.optType},on:{unitOk:t.unitOk,unitCancel:t.unitCancel}})],1)},i=[],o=n("221a"),r={name:"unit",components:{unitModal:o["a"]},data:function(){return{columns:[{dataIndex:"cname",title:"单位名称"},{dataIndex:"ename",title:"单位别名"},{dataIndex:"city",title:"单位地址"},{dataIndex:"contact",title:"单位联系人"},{dataIndex:"telephone",title:"联系电话"},{dataIndex:"description",title:"描述"},{dataIndex:"creator",title:"创建者"},{dataIndex:"gmtCreate",title:"创建时间",scopedSlots:{customRender:"gmtCreate"}},{dataIndex:"gmtModified",title:"最近更新时间",scopedSlots:{customRender:"gmtModified"}},{dataIndex:"action",title:"操作",scopedSlots:{customRender:"action"}}],unitData:[],unitVisible:!1,content:{cname:"",ename:"",city:"",contact:"",telephone:"",description:"",creator:"",gmtCreate:"",gmtModified:""},optType:0,pageParam:{page:1,size:20},searchInput:"",total:0}},created:function(){this.getUnit()},methods:{getUnit:function(){var t=this,e=Object.assign({},this.pageParam,{cname:this.searchInput});this.$API.searchUnit(e).then((function(e){1e3===e.code?(t.unitData=e.data,t.total=e.total,t.pageParam.page>1&&0===t.unitData.length&&(t.pageParam.size--,t.getUnit())):t.unitData=[]}))},optUnit:function(){this.resetContent(),this.unitVisible=!0,this.optType=0},editUnit:function(t){this.content=t,this.optType=1,this.unitVisible=!0},deleteUnit:function(t){var e=this.$createElement,n=this;this.$confirm({title:"确定删除该条数据吗？",content:function(){return e("div",{style:"color:red"},["删除后将不可恢复"])},okText:"确认删除",cancelText:"取消删除",onOk:function(){n.$API.delUnit(t.id).then((function(t){1e3===t.code?(n.$message.success("删除成功"),n.getUnit()):n.$message.warning(t.message)}))}})},unitOk:function(t){var e=this;if(t.optType){var n=Object.assign({},t.formContent,{id:this.content.id});this.$API.editUnit(n).then((function(t){1e3===t.code?(e.$message.success("单位更新成功"),e.unitVisible=!1,e.getUnit()):e.$message.warning(t.message)}))}else this.$API.addUnit(t.formContent).then((function(t){1e3===t.code?(e.$message.success("添加单位成功"),e.unitVisible=!1,e.getUnit()):e.$message.warning(t.message)}))},unitCancel:function(){this.unitVisible=!1,this.resetContent()},pageChange:function(){this.getUnit()},keywordChange:function(){this.pageParam.page=1,this.getUnit()},resetContent:function(){this.content={cname:"",ename:"",city:"",contact:"",telephone:"",description:"",creator:"",gmtCreate:"",gmtModified:""}}}},s=r,c=(n("9fd6"),n("2877")),l=Object(c["a"])(s,a,i,!1,null,null,null);e["default"]=l.exports},"9fd6":function(t,e,n){"use strict";var a=n("282d"),i=n.n(a);i.a},a9e3:function(t,e,n){"use strict";var a=n("83ab"),i=n("da84"),o=n("94ca"),r=n("6eeb"),s=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),p=n("d039"),d=n("7c73"),m=n("241c").f,f=n("06cf").f,g=n("9bf2").f,h=n("58a8").trim,x="Number",y=i[x],b=y.prototype,v=c(d(b))==x,C=function(t){var e,n,a,i,o,r,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+l}for(o=l.slice(2),r=o.length,s=0;s<r;s++)if(c=o.charCodeAt(s),c<48||c>i)return NaN;return parseInt(o,a)}return+l};if(o(x,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var I,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(v?p((function(){b.valueOf.call(n)})):c(n)!=x)?l(new y(C(e)),n,k):C(e)},F=a?m(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;F.length>_;_++)s(y,I=F[_])&&!s(k,I)&&g(k,I,f(y,I));k.prototype=b,b.constructor=k,r(i,x,k)}}}]);
//# sourceMappingURL=chunk-2c9f9077.4725f111.js.map