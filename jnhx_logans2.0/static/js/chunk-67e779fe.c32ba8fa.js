(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67e779fe"],{1064:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"baseRegExp pageSpace h100"},[a("my-breadcrumb"),a("div",{staticClass:"pageContent"},[a("a-layout-content",[a("div",{staticClass:"baseRegExp"},[a("div",{staticClass:"tableTopTools clearfix"},[a("p",{staticClass:"toolName fl"},[e._v("工具栏：")]),a("div",{staticClass:"buttons fl"},[a("a-button",{attrs:{type:"primary"},on:{click:e.addBaseReg}},[a("a-icon",{attrs:{type:"plus"}}),e._v("添加接口 ")],1)],1)]),a("div",{staticClass:"tableContent"},[a("a-table",{attrs:{columns:e.columns,"data-source":e.tableData,rowKey:"id",pagination:!1},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("span",{},[a("a",{staticClass:"t-optColor-normal",on:{click:function(t){return e.editBaseReg(n)}}},[e._v("编辑")]),a("a",{staticClass:"t-optColor-warning",on:{click:function(t){return e.deleteBaseReg(n)}}},[e._v("删除")])])}},{key:"isEnabled",fn:function(t,n){return a("span",{},[a("a-switch",{attrs:{checked:n.isEnabled,size:"small"},on:{click:function(t){return e.switchEnableChange(n)}},model:{value:n.isEnabled,callback:function(t){e.$set(n,"isEnabled",t)},expression:"record.isEnabled"}})],1)}},{key:"isDeleted",fn:function(t,n){return a("span",{},[a("a-switch",{attrs:{checked:n.isDeleted,size:"small"},on:{click:function(t){return e.switchDeleteChange(n)}},model:{value:n.isDeleted,callback:function(t){e.$set(n,"isDeleted",t)},expression:"record.isDeleted"}})],1)}},{key:"gmtCreate",fn:function(t,n){return a("span",{},[a("span",[e._v(e._s(e._f("dateFormatter")(n.gmtCreate,1)))])])}},{key:"gmtModified",fn:function(t,n){return a("span",{},[a("span",[e._v(e._s(e._f("dateFormatter")(n.gmtModified,1)))])])}}])}),a("div",{staticClass:"ar",staticStyle:{"margin-top":"20px"}},[a("a-pagination",{attrs:{"v-model":e.curPage,total:e.total,"page-size":e.pageSize},on:{change:e.pageChange}})],1)],1),a("interfaceModal",{attrs:{regVisible:e.regVisible,regType:e.regType,formContent:e.formContent},on:{handleOk:e.handleOk,handleCancel:e.handleCancel}})],1)])],1)],1)},i=[],r=(a("4160"),a("d81d"),a("b0c0"),a("159b"),a("5530")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"interface-modal"},[a("a-modal",{staticClass:"modalCls",attrs:{title:e.title,visible:e.regVisible,mask:!1,maskClosable:!1,width:600},on:{cancel:e.handleCancel}},[a("a-form-model",{ref:"interfaceForm",attrs:{model:e.interfaceForm,rules:e.rulesForm}},[a("a-form-model-item",{attrs:{label:"接口名称",prop:"name"}},[a("a-input",{attrs:{placeholder:"请输入接口名称"},model:{value:e.interfaceForm.name,callback:function(t){e.$set(e.interfaceForm,"name",t)},expression:"interfaceForm.name"}})],1),a("a-form-model-item",{attrs:{label:"请求方法",prop:"method"}},[a("a-input",{attrs:{placeholder:"请输入请求方法"},model:{value:e.interfaceForm.method,callback:function(t){e.$set(e.interfaceForm,"method",t)},expression:"interfaceForm.method"}})],1),a("a-form-model-item",{attrs:{label:"请求资源",prop:"url"}},[a("a-input",{attrs:{placeholder:"请输入请求资源"},model:{value:e.interfaceForm.url,callback:function(t){e.$set(e.interfaceForm,"url",t)},expression:"interfaceForm.url"}})],1),a("a-form-model-item",{attrs:{label:"参数",prop:"params"}},[a("a-input",{attrs:{placeholder:"请输入参数"},model:{value:e.interfaceForm.params,callback:function(t){e.$set(e.interfaceForm,"params",t)},expression:"interfaceForm.params"}})],1),a("a-form-model-item",{attrs:{label:"是否启用"}},[a("a-switch",{model:{value:e.interfaceForm.isEnabled,callback:function(t){e.$set(e.interfaceForm,"isEnabled",t)},expression:"interfaceForm.isEnabled"}})],1),a("a-form-model-item",{attrs:{label:"是否删除"}},[a("a-switch",{model:{value:e.interfaceForm.isDeleted,callback:function(t){e.$set(e.interfaceForm,"isDeleted",t)},expression:"interfaceForm.isDeleted"}})],1)],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"link",ghost:""},on:{click:e.handleCancel}},[e._v("取消")]),a("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("提交")])],1)],2)],1)},o=[],l=(a("a9e3"),{name:"interface-modal",props:{title:{type:String,default:"添加/编辑字典"},regVisible:{type:Boolean,default:!1,required:!0},regType:{type:Number,default:0,required:!0},formContent:{type:Object,default:function(){return{dictKey:"",dictValue:"",tag:""}}}},data:function(){return{interfaceForm:{name:"",method:"",url:"",params:"",isEnabled:!0,isDeleted:!0},rulesForm:{name:[{required:!0,message:"请输入接口名称",trigger:"blur"}],method:[{required:!0,message:"请输入请求方法",trigger:"blur"}],url:[{required:!0,message:"请输入请求资源",trigger:"blur"}],params:[{required:!0,message:"请输入参数",trigger:"blur"}]}}},methods:{handleOk:function(){var e=this;this.$refs.interfaceForm.validate((function(t){if(!t)return e.$message.warning("输入有误，请检查"),!1;var a=Object.assign({},e.interfaceForm,{isEnabled:e.interfaceForm.isEnabled?1:0},{isDeleted:e.interfaceForm.isDeleted?1:0});e.$emit("handleOk",{formData:a,regType:e.regType})}))},handleCancel:function(){this.$emit("handleCancel","点击取消")}},watch:{formContent:{handler:function(e){Object.assign(this.interfaceForm,e)},deep:!0}}}),c=l,d=a("2877"),f=Object(d["a"])(c,s,o,!1,null,"5dfc80fb",null),m=f.exports,u=a("c1df"),g=a.n(u),p={name:"interface",components:{interfaceModal:m},data:function(){return{curPage:1,total:0,pageSize:10,regVisible:!1,regType:0,columns:[{dataIndex:"name",title:"接口名称"},{dataIndex:"method",title:"请求方法"},{dataIndex:"url",title:"请求资源",ellipsis:!0},{dataIndex:"params",title:"参数",ellipsis:!0},{dataIndex:"isEnabled",title:"是否启用",scopedSlots:{customRender:"isEnabled"}},{dataIndex:"isDeleted",title:"是否删除",scopedSlots:{customRender:"isDeleted"}},{dataIndex:"creator",title:"创建者",ellipsis:!0},{dataIndex:"gmtCreate",title:"创建时间"},{dataIndex:"gmtModified",title:"修改时间"},{dataIndex:"action",title:"操作",scopedSlots:{customRender:"action"}}],tableData:[],formContent:{name:"",method:"",url:"",params:"",isEnabled:!0,isDeleted:!0}}},methods:{switchEnableChange:function(e){var t=this,a=Object.assign({},{id:e.id,isEnabled:!0===e.isEnabled?1:0});this.$API.updateInterface(a).then((function(e){1e3===e.code?(t.$message.success("修改成功"),t.getInterfaceList()):t.$message.warning("修改失败")}))},switchDeleteChange:function(e){var t=this,a=Object.assign({},{id:e.id,isDeleted:!0===e.isDeleted?1:0});this.$API.updateInterface(a).then((function(e){1e3===e.code?(t.$message.success("修改成功"),t.getInterfaceList()):t.$message.warning("修改失败")}))},getInterfaceList:function(){var e=this,t={from:this.curPage,size:this.pageSize};this.$API.getInterface(t).then((function(t){1e3===t.code?(t.data.forEach((function(e){e.isEnabled=1===e.isEnabled,e.isDeleted=1===e.isDeleted})),e.tableData=t.data.map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{gmtCreate:new g.a(e.gmtCreate).format("YYYY-MM-DD HH:mm:ss"),gmtModified:new g.a(e.gmtModified).format("YYYY-MM-DD HH:mm:ss")})})),e.total=t.total):(e.tableData=[],e.$message.warning("暂无数据"))}))},addBaseReg:function(){this.resetContent(),this.regVisible=!0,this.regType=0},handleOk:function(e){var t=this;if(e.regType){var a={url:e.formData.url,params:e.formData.params,name:e.formData.name,method:e.formData.method,isDeleted:e.formData.isDeleted,isEnabled:e.formData.isEnabled};this.$API.updateInterface(Object.assign({},a,{id:this.formContent.id})).then((function(e){1e3===e.code?(t.$message.success("接口更新成功"),t.regVisible=!1,t.getInterfaceList()):t.$message.warning(e.message)}))}else this.$API.addInterface(e.formData).then((function(e){1e3===e.code?(t.$message.success("接口添加成功"),t.regVisible=!1,t.getInterfaceList()):t.$message.warning("接口添加失败")}))},handleCancel:function(){this.regVisible=!1,this.resetContent()},editBaseReg:function(e){this.formContent=e,this.regType=1,this.regVisible=!0},deleteBaseReg:function(e){var t=this.$createElement,a=this;!0===e.isEnabled?a.$confirm({title:"确认删除对话框",okText:"确认",cancelText:"取消",content:"该条数据正在使用，确定要删除吗",onOk:function(){a.$API.deleteInterface(e.id).then((function(e){1e3===e.code?(a.$message.success("删除成功"),a.getInterfaceList()):a.$message.warning("删除失败")}))}}):a.$confirm({title:"确认删除对话框",content:function(){return t("div",{style:"color: red"},["删除后将不可恢复"])},okText:"确认删除",cancelText:"取消删除",onOk:function(){a.$API.deleteInterface(e.id).then((function(e){1e3===e.code?(a.$message.success("删除成功"),a.getInterfaceList()):a.$message.warning("删除失败")}))}})},pageChange:function(){this.getInterfaceList()},resetContent:function(){this.formContent={name:"",method:"",url:"",params:"",isEnabled:!0,isDeleted:!0}}},created:function(){this.getInterfaceList()}},h=p,b=Object(d["a"])(h,n,i,!1,null,null,null);t["default"]=b.exports},7156:function(e,t,a){var n=a("861d"),i=a("d2bb");e.exports=function(e,t,a){var r,s;return i&&"function"==typeof(r=t.constructor)&&r!==a&&n(s=r.prototype)&&s!==a.prototype&&i(e,s),e}},a9e3:function(e,t,a){"use strict";var n=a("83ab"),i=a("da84"),r=a("94ca"),s=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),d=a("c04e"),f=a("d039"),m=a("7c73"),u=a("241c").f,g=a("06cf").f,p=a("9bf2").f,h=a("58a8").trim,b="Number",I=i[b],C=I.prototype,v=l(m(C))==b,E=function(e){var t,a,n,i,r,s,o,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(r=c.slice(2),s=r.length,o=0;o<s;o++)if(l=r.charCodeAt(o),l<48||l>i)return NaN;return parseInt(r,n)}return+c};if(r(b,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var k,D=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof D&&(v?f((function(){C.valueOf.call(a)})):l(a)!=b)?c(new I(E(t)),a,D):E(t)},$=n?u(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;$.length>y;y++)o(I,k=$[y])&&!o(D,k)&&p(D,k,g(I,k));D.prototype=C,C.constructor=D,s(i,b,D)}}}]);
//# sourceMappingURL=chunk-67e779fe.c32ba8fa.js.map