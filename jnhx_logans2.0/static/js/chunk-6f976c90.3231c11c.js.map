{"version":3,"sources":["webpack:///./src/views/business/business.vue?d753","webpack:///./src/views/business/business.vue?2ab4","webpack:///src/views/business/business.vue","webpack:///./src/views/business/business.vue?5aee","webpack:///./src/views/business/business.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$global","projectName","version","attrs","defaultModule","_l","menu","key","moduleEn","on","$event","toPlace","migths","includes","role","icon","moduleCn","_e","e","preventDefault","_f","selectUnitEn","that","slot","unit","ename","choiceUnit","cname","nativeOn","searchTaskClick","model","value","callback","$$v","dropDownFlag","expression","dotflag","staticStyle","columns","tableData","scopedSlots","_u","fn","text","record","status","downTask","id","deleteTask","startTime","endTime","total","pageSize","pageChange","curPage","logout","staticRenderFns","component"],"mappings":"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","file":"js/chunk-6f976c90.3231c11c.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"business\"},[_c('a-layout',{staticClass:\"bt\"},[_c('a-layout-header',{staticClass:\"header bt clearfix\"},[_c('div',{staticClass:\"logo fl\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$global.projectName))]),_c('span',{staticClass:\"version\"},[_vm._v(_vm._s(_vm.$global.version))])]),_c('a-menu',{staticClass:\"topmenu bt fl\",attrs:{\"mode\":'horizontal',\"selectedKeys\":[_vm.defaultModule]}},_vm._l((_vm.menuList),function(menu){return _c('a-menu-item',{key:menu.moduleEn,on:{\"click\":function($event){return _vm.toPlace(menu)}}},[(!menu.migths||menu.migths.includes(_vm.role))?_c('div',[(menu.migths?'menu.migths.includes(role)?true:false':true)?_c('div',[_c('a-icon',{attrs:{\"type\":menu.icon}}),_vm._v(\" \"+_vm._s(menu.moduleCn)+\" \")],1):_vm._e()]):_vm._e()])}),1),_c('div',{staticClass:\"systemMenu fr clearfix\"},[_c('div',{staticClass:\"unitTop fl\"},[_c('a-dropdown',[_c('a',{staticClass:\"ant-dropdown-link unitName\",on:{\"click\":function (e){ return e.preventDefault(); }}},[_vm._v(_vm._s(_vm._f(\"getUnitCnByEn\")(_vm.selectUnitEn,_vm.that)))]),_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},_vm._l((_vm.unitData),function(unit){return _c('a-menu-item',{key:unit.ename},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.choiceUnit(unit)}}},[_vm._v(_vm._s(unit.cname))])])}),1)],1)],1),_c('div',{staticClass:\"notification fl systemIcon\"},[_c('a-dropdown',{attrs:{\"trigger\":['click']},nativeOn:{\"click\":function($event){return _vm.searchTaskClick($event)}},model:{value:(_vm.dropDownFlag),callback:function ($$v) {_vm.dropDownFlag=$$v},expression:\"dropDownFlag\"}},[_c('a-tooltip',{attrs:{\"title\":\"离线任务通知\"}},[_c('div',{attrs:{\"id\":\"components-badge-demo-dot\"}},[_c('a-badge',{attrs:{\"dot\":_vm.dotflag}},[_c('a-icon',{staticStyle:{\"font-size\":\"22px\"},attrs:{\"type\":\"cloud-download\"}})],1)],1)]),_c('div',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-card',{staticStyle:{\"width\":\"800px\",\"background-color\":\"#054273\"}},[_c('div',[_c('a-table',{attrs:{\"columns\":_vm.columns,\"data-source\":_vm.tableData,\"rowKey\":\"id\",\"size\":\"middle\",\"pagination\":false},scopedSlots:_vm._u([{key:\"action\",fn:function(text,record){return _c('span',{},[_c('a',{staticClass:\"t-optColor-normal\",attrs:{\"disabled\":record.status === '0'|| record.status === '2'},on:{\"click\":function($event){return _vm.downTask(record.id)}}},[_c('a-icon',{attrs:{\"type\":\"download\",\"title\":\"打包下载\"}})],1),_c('a',{staticClass:\"t-optColor-warning\",on:{\"click\":function($event){return _vm.deleteTask(record)}}},[_c('a-icon',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"delete\",\"title\":\"删除\"}})],1)])}},{key:\"startTime\",fn:function(text,record){return _c('span',{},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormatter\")(record.startTime,1)))])])}},{key:\"endTime\",fn:function(text,record){return _c('span',{},[_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormatter\")(record.endTime,1)))])])}},{key:\"status\",fn:function(text,record){return _c('span',{},[_c('span',[_vm._v(_vm._s(_vm._f(\"parseStatus\")(record.status,record.status)))])])}}])}),_c('div',{staticClass:\"ar\",staticStyle:{\"margin-top\":\"20px\"}},[_c('a-pagination',{attrs:{\"total\":_vm.total,\"page-size\":_vm.pageSize},on:{\"change\":function($event){return _vm.pageChange()}},model:{value:(_vm.curPage),callback:function ($$v) {_vm.curPage=$$v},expression:\"curPage\"}})],1)],1)])],1)],1)],1),_c('div',{staticClass:\"system fl\"},[_c('a-dropdown',[_c('a',{staticClass:\"system-user\",on:{\"click\":function (e) { return e.preventDefault(); }}},[_c('a-avatar',{attrs:{\"src\":\"/static/imagin/b2.jpg\"}}),_vm._v(\" \"+_vm._s(_vm.role)+\" \")],1),_c('a-menu',{attrs:{\"slot\":\"overlay\"},slot:\"overlay\"},[_c('a-menu-item',[_c('a',{on:{\"click\":_vm.logout}},[_c('a-icon',{attrs:{\"type\":\"logout\"}}),_vm._v(\" 退出系统 \")],1)])],1)],1)],1)])],1),_c('a-layout-content',{staticClass:\"bottomContent bt\"},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"business\">\r\n        <a-layout class=\"bt\">\r\n            <a-layout-header class=\"header bt clearfix\">\r\n                <div class=\"logo fl\">\r\n                    <span class=\"title\">{{$global.projectName}}</span>\r\n                    <span class=\"version\">{{$global.version}}</span>\r\n                </div>\r\n                <a-menu class=\"topmenu bt fl\" :mode=\"'horizontal'\" :selectedKeys=\"[defaultModule]\">\r\n                    <a-menu-item :key=\"menu.moduleEn\" @click=\"toPlace(menu)\" v-for=\"menu in menuList\">\r\n                        <div v-if=\"!menu.migths||menu.migths.includes(role)\">\r\n                            <div v-if=\"menu.migths?'menu.migths.includes(role)?true:false':true\">\r\n                                <a-icon :type=\"menu.icon\"></a-icon>\r\n                                {{menu.moduleCn}}\r\n                            </div>\r\n                        </div>\r\n                    </a-menu-item>\r\n                </a-menu>\r\n                <div class=\"systemMenu fr clearfix\">\r\n                    <div class=\"unitTop fl\">\r\n                        <!-- <span class=\"label\">单位：</span> -->\r\n                        <!-- <a-button type=\"primary\" style=\"margin-right: 10px\" @click=\"refresh(true)\">刷新缓存</a-button>\r\n                        <a-button type=\"primary\" style=\"margin-right: 10px\" @click=\"refresh(false)\">强制刷新</a-button>\r\n                        <a-button type=\"primary\" style=\"margin-right: 10px\" @click=\"refreshCountry\">刷新国家和地区</a-button> -->\r\n                        <a-dropdown>\r\n                            <a class=\"ant-dropdown-link unitName\" @click=\"e=>e.preventDefault()\">{{selectUnitEn|getUnitCnByEn(that)}}</a>\r\n                            <a-menu slot=\"overlay\">\r\n                                <a-menu-item v-for=\"unit of unitData\" :key=\"unit.ename\">\r\n                                    <a href=\"javascript:;\" @click=\"choiceUnit(unit)\">{{unit.cname}}</a>\r\n                                </a-menu-item>\r\n                            </a-menu>\r\n                        </a-dropdown>\r\n                    </div>\r\n                    <div class=\"notification fl systemIcon\">\r\n                        <a-dropdown v-model=\"dropDownFlag\" :trigger=\"['click']\" @click.native=\"searchTaskClick\">\r\n                            <a-tooltip title=\"离线任务通知\">\r\n                                <div id=\"components-badge-demo-dot\">\r\n                                    <a-badge :dot=\"dotflag\">\r\n                                        <a-icon type=\"cloud-download\" style=\"font-size:22px;\"></a-icon>\r\n                                    </a-badge>\r\n                                </div>\r\n                            </a-tooltip>\r\n                            <div slot=\"overlay\">\r\n                                <a-card style=\"width: 800px;background-color: #054273\">\r\n                                    <!--<div style=\"margin: -14px -14px 32px\">\r\n                                        <a-button icon=\"close\" @click=\"dropDownClose\" style=\"float: right\"></a-button>\r\n                                    </div>-->\r\n                                    <div>\r\n                                        <!-- <a-list item-layout=\"horizontal\" :data-source=\"data\">\r\n                                           <a-list-item slot=\"renderItem\" slot-scope=\"item,index\">\r\n                                             <a slot=\"actions\"><a-button icon=\"download\" style=\"color: #1890ff\" @click=\"downLoad(index)\"></a-button></a>\r\n                                             <a slot=\"actions\"><a-button icon=\"delete\" style=\"color: #1890ff\"></a-button></a>\r\n                                             &lt;!&ndash;<a slot=\"actions\">\r\n                                                 <template>\r\n                                                   <div>\r\n                                                   <a-popconfirm title=\"确认删除此任务吗？\" ok-text=\"确定\" cancle-text=\"取消\">\r\n                                                     <a href=\"#\">删除</a>\r\n                                                   </a-popconfirm>\r\n                                                   </div>\r\n                                                 </template>\r\n\r\n                                             </a>&ndash;&gt;\r\n                                             <a-list-item-meta>\r\n                                               <a slot=\"title\">{{ item.title }}</a>\r\n                                               <a slot=\"title\"><a-progress :percent=\"item.percent\" size=\"small\">\r\n                                               </a-progress></a>\r\n                                             </a-list-item-meta>\r\n                                             <div>{{item.states}}</div>\r\n                                           </a-list-item>\r\n                                           <a-pagination size=\"small\" :total=\"50\" style=\"float: right;color: #0f1c30\"></a-pagination>\r\n                                         </a-list>-->\r\n                                        <a-table :columns=\"columns\" :data-source=\"tableData\" rowKey=\"id\" size=\"middle\"\r\n                                                 :pagination=\"false\">\r\n                            <span slot=\"action\" slot-scope=\"text,record\">\r\n                                 <a class=\"t-optColor-normal\" :disabled=\"record.status === '0'|| record.status === '2'\"\r\n                                    @click=\"downTask(record.id)\"><a-icon type=\"download\" title=\"打包下载\"></a-icon></a>\r\n                                <!--<a class=\"t-optColor-success\" :disabled=\"record.status === '0'|| record.status === '2'\" @click=\"downTaskAll(record.id)\"><a-icon type=\"down-circle\" title=\"原文件下载\"></a-icon></a>-->\r\n                                 <a class=\"t-optColor-warning\" @click=\"deleteTask(record)\"><a-icon type=\"delete\"\r\n                                                                                                   title=\"删除\"\r\n                                                                                                   style=\"color: red\"></a-icon></a>\r\n                            </span>\r\n                                            <span slot=\"startTime\" slot-scope=\"text,record\">\r\n                                <span>{{record.startTime | dateFormatter(1)}}</span>\r\n                            </span>\r\n                                            <span slot=\"endTime\" slot-scope=\"text,record\">\r\n                                <span>{{record.endTime | dateFormatter(1)}}</span>\r\n                            </span>\r\n                                            <span slot=\"status\" slot-scope=\"text,record\">\r\n                                                <span>{{record.status | parseStatus(record.status)}}</span>\r\n                            </span>\r\n                                        </a-table>\r\n                                        <div class=\"ar\" style=\"margin-top: 20px\">\r\n                                            <a-pagination v-model=\"curPage\" :total=\"total\" :page-size=\"pageSize\"\r\n                                                          @change=\"pageChange()\"></a-pagination>\r\n                                        </div>\r\n                                    </div>\r\n                                </a-card>\r\n                            </div>\r\n                        </a-dropdown>\r\n                    </div>\r\n                    <!-- <div class=\"notification fl systemIcon\">\r\n                      <a-dropdown>\r\n                        <a-tooltip title=\"工具\" placement=\"left\">\r\n                          <span>\r\n                            <a-icon type=\"tool\"></a-icon>\r\n                          </span>\r\n                        </a-tooltip>\r\n                        <a-menu slot=\"overlay\">\r\n                            <a-menu-item>\r\n                              <a @click=\"refresh(true)\">刷新缓存</a>\r\n                            </a-menu-item>\r\n                            <a-menu-item>\r\n                              <a @click=\"refresh(false)\">强制刷新</a>\r\n                            </a-menu-item>\r\n                            <a-menu-item>\r\n                              <a @click=\"refreshCountry\">刷新国家和地区</a>\r\n                            </a-menu-item>\r\n                          </a-menu>\r\n                        </a-dropdown>\r\n                    </div> -->\r\n                    <!-- <div class=\"notification fl systemIcon\">\r\n                      <a-tooltip title=\"通知\">\r\n                        <span>\r\n                          <a-icon type=\"notification\"></a-icon>\r\n                        </span>\r\n                      </a-tooltip>\r\n                    </div>-->\r\n                    <!-- <div class=\"offNetList fl systemIcon\">\r\n                       <a-tooltip title=\"任务\">\r\n                         <span>\r\n                           <a-icon type=\"bell\"></a-icon>\r\n                         </span>\r\n                       </a-tooltip>\r\n                     </div>-->\r\n                    <div class=\"system fl\">\r\n                        <a-dropdown>\r\n                            <a class=\"system-user\" @click=\"e => e.preventDefault()\">\r\n                                <a-avatar src=\"/static/imagin/b2.jpg\"></a-avatar>\r\n                                {{role}}\r\n                            </a>\r\n                            <a-menu slot=\"overlay\">\r\n                                <!-- <a-menu-item>\r\n                                  <a @click=\"toHome('home')\">\r\n                                    <a-icon type=\"edit\"></a-icon>&nbsp;返回首页\r\n                                  </a>\r\n                                </a-menu-item> -->\r\n                                <!-- <a-menu-item>\r\n                                  <a>\r\n                                    <a-icon type=\"edit\"></a-icon>&nbsp;修改密码\r\n                                  </a>\r\n                                </a-menu-item> -->\r\n                                <a-menu-item>\r\n                                    <a @click=\"logout\">\r\n                                        <a-icon type=\"logout\"></a-icon>&nbsp;退出系统\r\n                                    </a>\r\n                                </a-menu-item>\r\n                            </a-menu>\r\n                        </a-dropdown>\r\n                    </div>\r\n                </div>\r\n            </a-layout-header>\r\n            <a-layout-content class=\"bottomContent bt\">\r\n                <router-view/>\r\n            </a-layout-content>\r\n        </a-layout>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {mapState} from 'vuex'\r\n    import {downloadFileOffline} from \"@/config/req/api/search\"\r\n\r\n    export default {\r\n        name: \"business\",\r\n        data() {\r\n            return {\r\n                role: sessionStorage.getItem('username'),\r\n                menuList: [],\r\n                defaultModule: \"\",\r\n                that: this,\r\n                dropDownFlag: false,\r\n                dotflag: true,\r\n                curPage: 1,\r\n                pageSize: 5,\r\n                total: 0,\r\n                tableData: [],\r\n                setInterName: null, //定时器名称\r\n                columns: [\r\n                    {\r\n                        dataIndex: 'file',\r\n                        title: '名称',\r\n                        ellipsis: true\r\n                    },\r\n                    {\r\n                        dataIndex: 'startTime',\r\n                        title: '开始时间',\r\n                        scopedSlots: {customRender: 'startTime'},\r\n                    },\r\n                    {\r\n                        dataIndex: 'endTime',\r\n                        title: '结束时间',\r\n                        scopedSlots: {customRender: 'endTime'},\r\n                    },\r\n                    {\r\n                        dataIndex: 'sizes',\r\n                        title: '文件大小(kb)'\r\n                    },\r\n                    {\r\n                        dataIndex: 'status',\r\n                        title: '状态',\r\n                        scopedSlots: {customRender: 'status'},\r\n                    },\r\n                    {\r\n                        dataIndex: 'action',\r\n                        title: \"操作\",\r\n                        scopedSlots: {customRender: \"action\"},\r\n                    },\r\n                ]\r\n            };\r\n        },\r\n        computed: {\r\n            ...mapState([\"unitData\", \"selectUnitEn\"]),\r\n            // selectUnit:{\r\n            //   get(){\r\n            //     return this.$store.state.selectUnit;\r\n            //   },\r\n            //   set(val){\r\n            //     this.$store.state.selectUnit = val;\r\n            //   }\r\n            // }\r\n        },\r\n        methods: {\r\n            toPlace(menu) {\r\n                // let name;\r\n                // if (menu.children.length === 0) {\r\n                //   name = menu.moduleEn;\r\n                // } else {\r\n                //   name = menu.children[0].moduleEn;\r\n                // }\r\n                // this.$router.push({name})\r\n                this.$fun.toPlace(menu, this);\r\n            },\r\n            toHome() {\r\n                this.$router.push({name: 'home'});\r\n            },\r\n            // 退出系统\r\n            logout() {\r\n                this.$router.push({name: \"login\"});\r\n                sessionStorage.clear();\r\n                localStorage.clear();\r\n            },\r\n            // 选择单位\r\n            choiceUnit(unit) {\r\n                this.$store.commit('setSelectUnitEn', unit.ename);\r\n                this.$store.commit('setSelectUnitId', unit.id);\r\n                sessionStorage.setItem('selectUnitEn', unit.ename)\r\n                sessionStorage.setItem('unitId', unit.id)\r\n                if (this.$route.name === \"searchLog\") {\r\n                    this.$router.push({name: 'searchLog'})\r\n                }\r\n            },\r\n            // 刷新缓存\r\n            refresh(flag) {\r\n                let params = {\r\n                    refresh: flag\r\n                };\r\n                this.$API.forceRefreshCache(params).then((res) => {\r\n                    if (res.code === 1000) {\r\n                        this.$message.success(\"刷新成功\")\r\n                    } else {\r\n                        this.$message.warning(\"刷新失败\")\r\n                    }\r\n                });\r\n            },\r\n            // 刷新国家和地区\r\n            refreshCountry() {\r\n                let params = {};\r\n                this.$API.forceRefreshCountry(params).then((res) => {\r\n                    if (res.code === 1000) {\r\n                        this.$message.success(\"刷新国家和地区成功\")\r\n                    } else {\r\n                        this.$message.warning(\"刷新国家和地区失败\")\r\n                    }\r\n                });\r\n            },\r\n            searchTaskClick() {\r\n                this.curPage = 1;\r\n                this.searchTask();\r\n            },\r\n            // 查询离线任务\r\n            searchTask() {\r\n                let params = {\r\n                    page: this.curPage,\r\n                    size: this.pageSize,\r\n                };\r\n                this.$API.searchOfflineTask(params).then(res => {\r\n                    if (res.code === 1000) {\r\n                        this.tableData = res.data;\r\n                        this.total = res.count;\r\n                    } else {\r\n                        this.tableData = [];\r\n                    }\r\n                });\r\n            },\r\n            dropDownClose() {\r\n                this.dropDownFlag = false;\r\n            },\r\n            pageChange() {\r\n                this.searchTask()\r\n            },\r\n            downTask(paramid) {\r\n                this.$API.downloadOfflineFile({id: paramid}).then(res => {\r\n                    downloadFileOffline(`${res.data.filepath}`, res.data.filename);\r\n                    // downloadFileOffline(`${res.data.filepath}`, res.data.filename);\r\n                })\r\n            },\r\n            deleteTask(row) {\r\n                const that = this;\r\n                /*that.$confirm({\r\n                    title:'确认删除对话框',\r\n                    okText:'确认',\r\n                    cancelText:'取消',\r\n                    content:'该条数据正在使用，确定要删除吗',\r\n                    onOk(){*/\r\n                that.$API.deleteOfflineTaskById(row.id).then(res => {\r\n                    if (res.code === 1000) {\r\n                        that.$message.success('删除成功');\r\n                        that.searchTask()\r\n                    } else {\r\n                        that.$message.warning('删除失败')\r\n                    }\r\n                })\r\n            }\r\n\r\n            // })\r\n            // }\r\n        },\r\n        watch: {\r\n            // 监听路由变化\r\n            $route: {\r\n                handler: function () {\r\n                    this.defaultModule = this.$fun.getSecondRoute(this);\r\n                },\r\n                // 深度观察监听\r\n                deep: true\r\n            },\r\n            // 监听单位变化 提交vuex action接口 获取分析对象数据\r\n            selectUnitEn: {\r\n                handler: function () {\r\n                    console.log(\"我要根据单位请求分析对象了\")\r\n                    this.$store.dispatch('getObjByUnit', this);\r\n                }\r\n            },\r\n        },\r\n        created() {\r\n            // 获取menu列表 在本页面只使用了一级路由名\r\n            this.menuList = this.$global.menuList;\r\n            // 防止用户刷新页面 模块选中相应变化\r\n            this.defaultModule = this.$fun.getSecondRoute(this);\r\n            // 在主应用应对手动刷新，初始化vuex数据，保证\r\n            this.$store.dispatch(\"getObjectData\", this);\r\n            this.$store.dispatch(\"getRuleGroupData\", this);\r\n            this.$store.dispatch(\"getUnitData\", this);\r\n            this.searchTask()\r\n        },\r\n        mounted() {\r\n            // this.$nextTick(()=>{\r\n            //     this.setInterName = setInterval(()=>{this.searchTask()},1000)\r\n            // })\r\n        },\r\n        beforeDestroy() {\r\n            clearInterval(this.setInterName)\r\n        }\r\n    };\r\n</script>\r\n<style>\r\n    .business {\r\n        width: 100vw;\r\n        height: 100vh;\r\n        min-width: 1024px;\r\n        min-height: 768px;\r\n        overflow: auto;\r\n        background: url(/static/imagin/bg1.png) no-repeat;\r\n        background-size: cover;\r\n    }\r\n\r\n    .business .bottomContent {\r\n        height: calc(100vh - 64px);\r\n    }\r\n\r\n    .business .header {\r\n        border-bottom: 1px solid #5dc2fe;\r\n        padding: 0 30px;\r\n    }\r\n\r\n    .business .header .logo > .title {\r\n        font-size: 30px;\r\n        font-family: cursive;\r\n        margin-right: 5px;\r\n    }\r\n\r\n    .business .header .logo > .version {\r\n        position: relative;\r\n        font-family: cursive;\r\n        top: 5px;\r\n        font-size: 12px;\r\n    }\r\n\r\n    .business .header .topmenu {\r\n        line-height: 63px;\r\n        border: none;\r\n        margin-left: 6vmin;\r\n        font-size: 16px;\r\n        color: #fff;\r\n        font-weight: 700;\r\n    }\r\n\r\n    .business .unitTop {\r\n        padding: 0 20px;\r\n    }\r\n\r\n    .business .unitTop > .label {\r\n        padding: 10px;\r\n    }\r\n\r\n    .business .unitTop > .unitName {\r\n        color: #5dc2fe;\r\n        font-weight: 700;\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n        padding: 5px;\r\n    }\r\n\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-item {\r\n        border: none;\r\n    }\r\n\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-item:hover,\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-submenu:hover,\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-item-active,\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-submenu-active,\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-item-open,\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-submenu-open,\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-item-selected,\r\n    .business .header .topmenu.ant-menu-horizontal > .ant-menu-submenu-selected {\r\n        border: none;\r\n        color: #5dc2fe;\r\n        background-color: rgba(93, 194, 254, 0.2);\r\n    }\r\n\r\n    .business .ant-menu-item .anticon {\r\n        font-size: 16px;\r\n    }\r\n\r\n    .business .system-user {\r\n        display: inline-block;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        padding: 0 10px;\r\n        color: #fff;\r\n    }\r\n\r\n    .business .unitName:hover,\r\n    .business .system-user:hover,\r\n    .business .systemIcon > span:hover {\r\n        background: rgba(255, 255, 255, 0.1);\r\n    }\r\n\r\n    .business .systemIcon {\r\n        margin: 0 10px;\r\n        font-size: 20px;\r\n    }\r\n\r\n    .business .systemIcon span {\r\n        display: inline-block;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        cursor: pointer;\r\n        min-width: 50px;\r\n        text-align: center;\r\n    }\r\n\r\n    .business .ant-tree li .ant-tree-node-content-wrapper:hover {\r\n        background-color: rgba(93, 194, 254, 0.4);\r\n    }\r\n\r\n    .business .ant-tree li .ant-tree-node-content-wrapper.ant-tree-node-selected {\r\n        background-color: rgba(93, 194, 254, 0.4);\r\n    }\r\n\r\n    .tableTopTools {\r\n        line-height: 50px;\r\n        height: 50px;\r\n        padding: 0 20px;\r\n        /* background-image: radial-gradient(circle at left, #024564, #192e4e, #024564); */\r\n        /* background-color: #192e4e; */\r\n        font-size: 16px;\r\n    }\r\n\r\n    /*  */\r\n    .modalCls .ant-modal-content, .modalCls .ant-modal-header {\r\n        background-color: #054273;\r\n        color: #fff;\r\n    }\r\n\r\n    .modalCls .ant-modal-header {\r\n        border-bottom: 1px solid #1890ff\r\n\r\n    }\r\n\r\n    .modalCls .ant-modal-header .ant-modal-title {\r\n        color: #fff;\r\n    }\r\n\r\n    .modalCls .ant-modal-footer {\r\n        border-top: 1px solid #1890ff\r\n    }\r\n\r\n    .modalCls .ant-modal-close {\r\n        color: inherit;\r\n    }\r\n\r\n    #components-badge-demo-dot .anticon-notification {\r\n        width: 16px;\r\n        height: 16px;\r\n        line-height: 16px;\r\n        font-size: 16px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./business.vue?vue&type=template&id=69270ea4&\"\nimport script from \"./business.vue?vue&type=script&lang=js&\"\nexport * from \"./business.vue?vue&type=script&lang=js&\"\nimport style0 from \"./business.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}