(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a46b076a"],{"1c7e":function(e,t,a){var r=a("b622"),n=r("iterator"),o=!1;try{var i=0,l={next:function(){return{done:!!i++}},return:function(){o=!0}};l[n]=function(){return this},Array.from(l,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var a=!1;try{var r={};r[n]=function(){return{next:function(){return{done:a=!0}}}},e(r)}catch(s){}return a}},2266:function(e,t,a){var r=a("825a"),n=a("e95a"),o=a("50c4"),i=a("0366"),l=a("35a1"),s=a("9bdd"),c=function(e,t){this.stopped=e,this.result=t},p=e.exports=function(e,t,a,p,u){var d,f,m,v,h,y,x,b=i(t,a,p?2:1);if(u)d=e;else{if(f=l(e),"function"!=typeof f)throw TypeError("Target is not iterable");if(n(f)){for(m=0,v=o(e.length);v>m;m++)if(h=p?b(r(x=e[m])[0],x[1]):b(e[m]),h&&h instanceof c)return h;return new c(!1)}d=f.call(e)}y=d.next;while(!(x=y.call(d)).done)if(h=s(d,b,x.value,p),"object"==typeof h&&h&&h instanceof c)return h;return new c(!1)};p.stop=function(e){return new c(!0,e)}},2626:function(e,t,a){"use strict";var r=a("d066"),n=a("9bf2"),o=a("b622"),i=a("83ab"),l=o("species");e.exports=function(e){var t=r(e),a=n.f;i&&t&&!t[l]&&a(t,l,{configurable:!0,get:function(){return this}})}},"5f0a":function(e,t,a){"use strict";var r=a("84ea"),n=a.n(r);n.a},6062:function(e,t,a){"use strict";var r=a("6d61"),n=a("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},6566:function(e,t,a){"use strict";var r=a("9bf2").f,n=a("7c73"),o=a("e2cc"),i=a("0366"),l=a("19aa"),s=a("2266"),c=a("7dd0"),p=a("2626"),u=a("83ab"),d=a("f183").fastKey,f=a("69f3"),m=f.set,v=f.getterFor;e.exports={getConstructor:function(e,t,a,c){var p=e((function(e,r){l(e,p,t),m(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=r&&s(r,e[c],e,a)})),f=v(t),h=function(e,t,a){var r,n,o=f(e),i=y(e,t);return i?i.value=a:(o.last=i={index:n=d(t,!0),key:t,value:a,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=i),r&&(r.next=i),u?o.size++:e.size++,"F"!==n&&(o.index[n]=i)),e},y=function(e,t){var a,r=f(e),n=d(t);if("F"!==n)return r.index[n];for(a=r.first;a;a=a.next)if(a.key==t)return a};return o(p.prototype,{clear:function(){var e=this,t=f(e),a=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete a[r.index],r=r.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,a=f(t),r=y(t,e);if(r){var n=r.next,o=r.previous;delete a.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),a.first==r&&(a.first=n),a.last==r&&(a.last=o),u?a.size--:t.size--}return!!r},forEach:function(e){var t,a=f(this),r=i(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),o(p.prototype,a?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),u&&r(p.prototype,"size",{get:function(){return f(this).size}}),p},setStrong:function(e,t,a){var r=t+" Iterator",n=v(t),o=v(r);c(e,t,(function(e,t){m(this,{type:r,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),p(t)}}},"6d61":function(e,t,a){"use strict";var r=a("23e7"),n=a("da84"),o=a("94ca"),i=a("6eeb"),l=a("f183"),s=a("2266"),c=a("19aa"),p=a("861d"),u=a("d039"),d=a("1c7e"),f=a("d44e"),m=a("7156");e.exports=function(e,t,a){var v=-1!==e.indexOf("Map"),h=-1!==e.indexOf("Weak"),y=v?"set":"add",x=n[e],b=x&&x.prototype,g=x,F={},w=function(e){var t=b[e];i(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(h&&!p(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return h&&!p(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(h&&!p(e))&&t.call(this,0===e?0:e)}:function(e,a){return t.call(this,0===e?0:e,a),this})};if(o(e,"function"!=typeof x||!(h||b.forEach&&!u((function(){(new x).entries().next()})))))g=a.getConstructor(t,e,v,y),l.REQUIRED=!0;else if(o(e,!0)){var C=new g,k=C[y](h?{}:-0,1)!=C,T=u((function(){C.has(1)})),O=d((function(e){new x(e)})),$=!h&&u((function(){var e=new x,t=5;while(t--)e[y](t,t);return!e.has(-0)}));O||(g=t((function(t,a){c(t,g,e);var r=m(new x,t,g);return void 0!=a&&s(a,r[y],r,v),r})),g.prototype=b,b.constructor=g),(T||$)&&(w("delete"),w("has"),v&&w("get")),($||k)&&w(y),h&&b.clear&&delete b.clear}return F[e]=g,r({global:!0,forced:g!=x},F),f(g,e),h||a.setStrong(g,e,v),g}},7156:function(e,t,a){var r=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var o,i;return n&&"function"==typeof(o=t.constructor)&&o!==a&&r(i=o.prototype)&&i!==a.prototype&&n(e,i),e}},"84ea":function(e,t,a){},a434:function(e,t,a){"use strict";var r=a("23e7"),n=a("23cb"),o=a("a691"),i=a("50c4"),l=a("7b0b"),s=a("65f0"),c=a("8418"),p=a("1dde"),u=a("ae40"),d=p("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,v=Math.min,h=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var a,r,p,u,d,f,x=l(this),b=i(x.length),g=n(e,b),F=arguments.length;if(0===F?a=r=0:1===F?(a=0,r=b-g):(a=F-2,r=v(m(o(t),0),b-g)),b+a-r>h)throw TypeError(y);for(p=s(x,r),u=0;u<r;u++)d=g+u,d in x&&c(p,u,x[d]);if(p.length=r,a<r){for(u=g;u<b-r;u++)d=u+r,f=u+a,d in x?x[f]=x[d]:delete x[f];for(u=b;u>b-r+a;u--)delete x[u-1]}else if(a>r)for(u=b-r;u>g;u--)d=u+r-1,f=u+a-1,d in x?x[f]=x[d]:delete x[f];for(u=0;u<a;u++)x[u+g]=arguments[u+2];return x.length=b-r+a,p}})},a623:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").every,o=a("a640"),i=a("ae40"),l=o("every"),s=i("every");r({target:"Array",proto:!0,forced:!l||!s},{every:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},a630:function(e,t,a){var r=a("23e7"),n=a("4df4"),o=a("1c7e"),i=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:i},{from:n})},bb2f:function(e,t,a){var r=a("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c975:function(e,t,a){"use strict";var r=a("23e7"),n=a("4d64").indexOf,o=a("a640"),i=a("ae40"),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),p=i("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!c||!p},{indexOf:function(e){return s?l.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},f183:function(e,t,a){var r=a("d012"),n=a("861d"),o=a("5135"),i=a("9bf2").f,l=a("90e3"),s=a("bb2f"),c=l("meta"),p=0,u=Object.isExtensible||function(){return!0},d=function(e){i(e,c,{value:{objectID:"O"+ ++p,weakData:{}}})},f=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!u(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},m=function(e,t){if(!o(e,c)){if(!u(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},v=function(e){return s&&h.REQUIRED&&u(e)&&!o(e,c)&&d(e),e},h=e.exports={REQUIRED:!1,fastKey:f,getWeakData:m,onFreeze:v};r[c]=!0},f488:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-opt pageSpace h100"},[a("my-breadcrumb",{attrs:{extra:e.extraBreadcrumb}}),a("div",{staticClass:"pageContent"},[a("div",{staticClass:"optContent",staticStyle:{margin:"20px 0"}},[a("a-form-model",{ref:"fieldForm",attrs:{model:e.fieldForm,rules:e.fieldFormRule,layout:"horizontal"}},[a("p",{staticClass:"partTitle"},[e._v("字段基本信息")]),a("a-row",{staticStyle:{margin:"0"},attrs:{gutter:[24,24]}},[a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"字段中文",prop:"cname","has-feedback":"",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-input",{attrs:{placeholder:"请输入字段名"},model:{value:e.fieldForm.cname,callback:function(t){e.$set(e.fieldForm,"cname",t)},expression:"fieldForm.cname"}})],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"字段英文",prop:"ename",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-input",{attrs:{placeholder:"请输入字段英文名"},model:{value:e.fieldForm.ename,callback:function(t){e.$set(e.fieldForm,"ename",t)},expression:"fieldForm.ename"}})],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"字段类型",prop:"type",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-select",{attrs:{placeholder:"请选择字段数据类型"},model:{value:e.fieldForm.type,callback:function(t){e.$set(e.fieldForm,"type",t)},expression:"fieldForm.type"}},[a("a-select-option",{attrs:{value:"string"}},[e._v("字符串类型")])],1)],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"组件类型",prop:"componentType",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-select",{attrs:{placeholder:"请选择组件类型"},on:{change:e.componentTypeChange},model:{value:e.fieldForm.componentType,callback:function(t){e.$set(e.fieldForm,"componentType",t)},expression:"fieldForm.componentType"}},[a("a-select-option",{attrs:{value:"input"}},[e._v("输入框")]),a("a-select-option",{attrs:{value:"select"}},[e._v("下拉单选框")]),a("a-select-option",{attrs:{value:"m-select"}},[e._v("下拉多选框")]),a("a-select-option",{attrs:{value:"day"}},[e._v("日期范围选择框")]),a("a-select-option",{attrs:{value:"daterange"}},[e._v("日期时间范围选择框")])],1)],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"精确检索",prop:"searchType",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-switch",{model:{value:e.fieldForm.searchType,callback:function(t){e.$set(e.fieldForm,"searchType",t)},expression:"fieldForm.searchType"}})],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"是否检索",prop:"isSearch",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-switch",{model:{value:e.fieldForm.isSearch,callback:function(t){e.$set(e.fieldForm,"isSearch",t)},expression:"fieldForm.isSearch"}})],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"是否启用",prop:"isEnabled",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-switch",{model:{value:e.fieldForm.isEnabled,callback:function(t){e.$set(e.fieldForm,"isEnabled",t)},expression:"fieldForm.isEnabled"}})],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"校验规则",prop:"rules",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-select",{attrs:{placeholder:"请选择校验规则"},model:{value:e.fieldForm.rules,callback:function(t){e.$set(e.fieldForm,"rules",t)},expression:"fieldForm.rules"}},[a("a-select-option",{attrs:{value:"no"}},[e._v("无规则")]),a("a-select-option",{attrs:{value:"ip"}},[e._v("IP规则")]),a("a-select-option",{attrs:{value:"email"}},[e._v("邮箱规则")])],1)],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:8,xl:12}},[a("a-form-model-item",{attrs:{label:"支持多值",prop:"isMoreValue",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-switch",{attrs:{disabled:"m-select"===e.fieldForm.componentType||"select"===e.fieldForm.componentType||"num"===e.fieldForm.componentType||"date"===e.fieldForm.componentType||"daterange"===e.fieldForm.componentType},model:{value:e.fieldForm.isMoreValue,callback:function(t){e.$set(e.fieldForm,"isMoreValue",t)},expression:"fieldForm.isMoreValue"}})],1)],1)],1),a("p",{staticClass:"partTitle"},[e._v("字段组件配置")]),a("a-row",{staticStyle:{margin:"0"},attrs:{gutter:[24,24]}},[a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:16,xl:24}},[a("a-form-model-item",{attrs:{label:"默认值",prop:"defaultValue",labelCol:{span:2},wrapperCol:{span:22}}},["date"===e.fieldForm.componentType?a("div",[a("a-select",{attrs:{placeholder:"请选择时间点"},model:{value:e.fieldForm.defaultValue,callback:function(t){e.$set(e.fieldForm,"defaultValue",t)},expression:"fieldForm.defaultValue"}},[a("a-select-option",{attrs:{value:""}},[e._v("手动选择时间")]),a("a-select-option",{attrs:{value:"systemTime"}},[e._v("当前系统时间")])],1)],1):"daterange"===e.fieldForm.componentType?a("div",[a("a-select",{attrs:{placeholder:"请选择时间范围"},model:{value:e.fieldForm.defaultValue,callback:function(t){e.$set(e.fieldForm,"defaultValue",t)},expression:"fieldForm.defaultValue"}},[a("a-select-option",{attrs:{value:""}},[e._v("手动选择")]),a("a-select-option",{attrs:{value:"today"}},[e._v("今天")]),a("a-select-option",{attrs:{value:"threeDays"}},[e._v("近三天")]),a("a-select-option",{attrs:{value:"sevenDays"}},[e._v("近七天")]),a("a-select-option",{attrs:{value:"thirtyDays"}},[e._v("近三十天")]),a("a-select-option",{attrs:{value:"threeMonth"}},[e._v("近三月")]),a("a-select-option",{attrs:{value:"halfYear"}},[e._v("近半年")]),a("a-select-option",{attrs:{value:"year"}},[e._v("今年")])],1)],1):a("div",[a("a-input",{attrs:{placeholder:"请输入默认显示的值，如果支持多值，以英文逗号分隔"},model:{value:e.fieldForm.defaultValue,callback:function(t){e.$set(e.fieldForm,"defaultValue",t)},expression:"fieldForm.defaultValue"}})],1)])],1)],1),a("a-row",{staticStyle:{margin:"0"},attrs:{gutter:[24,24]}},[a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:16,xl:24}},[a("a-form-model-item",{attrs:{label:"前置筛选",prop:"isFrontComponent",labelCol:{span:2},wrapperCol:{span:22}}},[a("a-switch",{model:{value:e.fieldForm.isFrontComponent,callback:function(t){e.$set(e.fieldForm,"isFrontComponent",t)},expression:"fieldForm.isFrontComponent"}})],1)],1)],1),"select"===e.fieldForm.componentType||"m-select"===e.fieldForm.componentType?a("a-card",{staticClass:"bt",attrs:{title:"下拉框组件配置"}},[a("a-row",{staticStyle:{margin:"0"},attrs:{gutter:[24,24]}},[a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:16,xl:24}},[a("a-form-model-item",{attrs:{label:"数据来源",prop:"selectComponentDataType",labelCol:{span:2},wrapperCol:{span:22}}},[a("a-radio-group",{model:{value:e.fieldForm.selectComponentDataType,callback:function(t){e.$set(e.fieldForm,"selectComponentDataType",t)},expression:"fieldForm.selectComponentDataType"}},[a("a-radio",{attrs:{value:1}},[e._v("手动输入")]),a("a-radio",{attrs:{value:2}},[e._v("接口api")])],1)],1)],1),a("a-col",{staticStyle:{padding:"0 12px 12px"},attrs:{xxl:16,xl:24}},[a("a-form-model-item",{attrs:{label:"数据配置",prop:"options",labelCol:{span:2},wrapperCol:{span:22}}},[1===e.fieldForm.selectComponentDataType?a("div",[e._l(e.selectOptions.values,(function(t,r){return a("div",{key:r},[a("a-input",{staticStyle:{width:"40%","margin-right":"1%"},attrs:{placeholder:"请输入下拉框key"},model:{value:e.selectOptions.values[r],callback:function(t){e.$set(e.selectOptions.values,r,t)},expression:"selectOptions.values[index]"}}),a("span",{staticStyle:{color:"#fff"}},[e._v("~")]),a("a-input",{staticStyle:{width:"40%",margin:"0 1%"},attrs:{placeholder:"请输入下拉框value"},model:{value:e.selectOptions.labels[r],callback:function(t){e.$set(e.selectOptions.labels,r,t)},expression:"selectOptions.labels[index]"}}),a("a-button",{attrs:{type:"default",shape:"circle"},on:{click:function(t){return e.delOption("selectOptions",r)}}},[a("a-icon",{attrs:{type:"minus"}})],1)],1)})),a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.addOption("selectOptions")}}},[a("a-icon",{attrs:{type:"plus"}}),e._v("添加 ")],1)],2):a("div",[a("a-select",{attrs:{placeholder:"选择相关接口"},model:{value:e.fieldForm.options,callback:function(t){e.$set(e.fieldForm,"options",t)},expression:"fieldForm.options"}},e._l(e.interfaceData,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.name}},[e._v(e._s(t.name))])})),1)],1)])],1)],1)],1):e._e()],1),a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"ar action",attrs:{xxl:24,xl:24}},[a("a-button",{attrs:{type:"primary"},on:{click:e.save}},[a("a-icon",{attrs:{type:"save"}}),e._v("保存 ")],1),a("a-button",{attrs:{type:"default"},on:{click:e.back}},[a("a-icon",{attrs:{type:"rollback"}}),e._v("返回 ")],1)],1)],1)],1)])],1)},n=[],o=(a("a623"),a("4160"),a("a630"),a("c975"),a("d81d"),a("a434"),a("d3b7"),a("6062"),a("3ca3"),a("498a"),a("159b"),a("ddb0"),{name:"field-opt",data:function(){var e=this,t=function(t,a,r){a.trim()?(e.$fun.regularTop(e.fieldForm.ename)?e.$fun.inKeywords(e.fieldForm.ename)&&r(new Error("不能为特殊关键词")):r(new Error("只能以字母开头")),-1!=e.nodeFiledsEn.indexOf(e.fieldForm.ename)?r(new Error("字段英文名重复，请重新填写")):r()):r(new Error("请输入英文名"))},a=function(t,a,r){a.trim()?-1!=e.nodeFileds.indexOf(e.fieldForm.cname)?r(new Error("字段名重复，请重新填写")):r():r(new Error("请输入字段名"))};return{extraBreadcrumb:["频道字段管理",this.$route.query.channelName,"edit"==this.$route.params.type?"编辑":"添加"],fieldForm:{cname:"",ename:"",componentType:"input",type:"string",searchType:!0,isSearch:!0,isEnabled:!0,isMoreValue:!1,isFrontComponent:!1,rules:"no",options:"",defaultValue:"",selectComponentDataType:1},fieldFormRule:{cname:[{validator:a,trigger:"blur"}],ename:[{validator:t,trigger:"blur"}],componentType:[{required:!0,message:"请选择组件类型",trigger:"change"}]},selectOptions:{values:[],labels:[]},interfaceData:[],nodeFileds:[],nodeFiledsEn:[]}},methods:{addOption:function(e){this[e].values.push(""),this[e].labels.push("")},delOption:function(e,t){this[e].values.splice(t,1),this[e].labels.splice(t,1)},componentTypeChange:function(e){switch(this.fieldForm.defaultValue="",e){case"m-select":this.fieldForm.isMoreValue=!0;break;case"select":this.fieldForm.isMoreValue=!1;break;case"num":this.fieldForm.isMoreValue=!1;break;case"date":this.fieldForm.isMoreValue=!1,this.fieldForm.searchType=!0;break;case"daterange":this.fieldForm.isMoreValue=!1,this.fieldForm.searchType=!0;break}},save:function(){var e=this,t=this.$route.params.type,a=this.$route.query.ctype;this.fieldForm.searchType=this.fieldForm.searchType?"term":"fuzzy",this.$refs.fieldForm.validate((function(r){if(!r)return e.$message.warning("输入有误，请检查"),!1;var n=e.$fun.bolToInt(e.fieldForm),o=!0;if("select"===n.componentType||"m-select"===n.componentType)if(1===n.selectComponentDataType){var i=e.isEffectSelectOptions();o=i,i&&(n.options=JSON.stringify(e.setHandleOptionData()))}else o=!!n.options,o||e.$message.warning("请选择下拉框数据配置接口");if(o){var l=["objectId","ruleGroupId","ruleId"];n["ownerType"]=a,n[l[a]]=e.$route.query.cid,"add"===t?e.addField(n):e.editField(n)}}))},isEffectSelectOptions:function(){var e=!0,t=this.selectOptions.values.every((function(e){return e.trim().length<=0}))||this.selectOptions.labels.every((function(e){return e.trim().length<=0})),a=Array.from(new Set(this.selectOptions.values)).length<this.selectOptions.values.length;return t?(this.$message.warning("下拉框数据配置不得为空，请输入有效的key、value,"),e=!1):a?(this.$message.warning("下拉框数据配置的key不允许重复"),e=!1):e=!0,console.log(e),e},setHandleOptionData:function(){var e=this,t=[];return this.selectOptions.values.forEach((function(a,r){var n={};n.value=a,n.label=e.selectOptions.labels[r],t.push(n)})),t},addField:function(e){var t=this;this.$API.addField(e).then((function(e){1e3===e.code?(t.$message.success("添加字段成功"),history.go(-1)):(t.$message.warning(e.message),console.error(e.message))}))},editField:function(e){var t=this;this.$API.editField(e).then((function(e){1e3===e.code?(t.$message.success("编辑字段成功"),history.go(-1)):(t.$message.warning("字段失败"),console.error(e.message,e.data))}))},getFieldByFieldId:function(e){var t=this;this.$API.searchFieldById(e).then((function(e){if(1e3===e.code){var a=t.$fun.intToBol(e.data);if(a.searchType="term"===a.searchType,a.options&&1===a.selectComponentDataType){var r=JSON.parse(a.options);t.selectOptions.values=r.map((function(e){return e.value})),t.selectOptions.labels=r.map((function(e){return e.label}))}Object.assign(t.fieldForm,a)}else t.$message.warning("获取字段失败"),console.error(e.message,e.data)}))},getDicData:function(){var e=this,t=this.$route.query.cid,a=this.$route.query.ctype;this.$API.searchDic({id:t,ownerType:a}).then((function(t){if(1e3===t.code)for(var a in t.data)e.nodeFileds.push(t.data[a].cname),e.nodeFiledsEn.push(t.data[a].ename);else e.nodeFileds=[],e.nodeFiledsEn=[]}))},getInterface:function(){var e=this;this.$API.getInterface({from:1,size:999}).then((function(t){1e3===t.code?e.interfaceData=t.data:e.interfaceData=[]}))},back:function(){history.go(-1)}},created:function(){"edit"===this.$route.params.type&&this.getFieldByFieldId(this.$route.query.fieldId),this.getInterface(),this.getDicData()}}),i=o,l=(a("5f0a"),a("2877")),s=Object(l["a"])(i,r,n,!1,null,null,null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-a46b076a.03f5aaba.js.map