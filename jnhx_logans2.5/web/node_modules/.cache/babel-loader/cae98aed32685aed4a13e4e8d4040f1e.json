{"remainingRequest":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/babel-loader/lib/index.js!/home/hx_ygg/job/hx_logana3.0/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hx_ygg/job/hx_logana3.0/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hx_ygg/job/hx_logana3.0/web/src/views/collect/outTask/out-task.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hx_ygg/job/hx_logana3.0/web/src/views/collect/outTask/out-task.vue","mtime":1631238422177},{"path":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2h4X3lnZy9qb2IvaHhfbG9nYW5hMy4wL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG15VGFibGUgZnJvbSAnQC9jb21wb25lbnRzL215dGFibGUvbXktdGFibGUudnVlJzsKaW1wb3J0IHsgZ2V0RXhwb3J0VGFzayB9IGZyb20gJ0AvYXBpL3NlYXJjaCc7CmltcG9ydCB7IGRvd25sb2FkRmlsZU9mZmxpbmUgfSBmcm9tICdAL3V0aWxzL3V0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ291dC10YXNrJywKICBjb21wb25lbnRzOiB7CiAgICBteVRhYmxlOiBteVRhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVDb25maWc6IHsKICAgICAgICBkYXRhOiBbXSwKICAgICAgICBjb2x1bW46IFt7CiAgICAgICAgICBrZXk6ICdvZmZsaW5lX25hbWUnLAogICAgICAgICAgdGl0bGU6ICflkI3np7AnCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAnc2RhdGV0aW1lJywKICAgICAgICAgIHRpdGxlOiAn5byA5aeL5pe26Ze0JywKICAgICAgICAgIHNsb3Q6ICdzZGF0ZXRpbWUnCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAnZWRhdGV0aW1lJywKICAgICAgICAgIHRpdGxlOiAn57uT5p2f5pe26Ze0JywKICAgICAgICAgIHNsb3Q6ICdlZGF0ZXRpbWUnCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAnZmlsZXNpemUnLAogICAgICAgICAgdGl0bGU6ICfmlofku7blpKflsI8oa2IpJwogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogJ29mZmxpbmVfc3RhdHVzJywKICAgICAgICAgIHRpdGxlOiAn54q25oCBJwogICAgICAgIH0sIHsKICAgICAgICAgIHNsb3Q6ICdhY3Rpb24nLAogICAgICAgICAgdGl0bGU6ICfmk43kvZwnCiAgICAgICAgfV0sCiAgICAgICAgdG9vbHM6IFsncmVmcmVzaCddLAogICAgICAgIHBhZ2U6IDEKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFRhc2soKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFRhc2s6IGZ1bmN0aW9uIGdldFRhc2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBnZXRFeHBvcnRUYXNrKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudGFibGVDb25maWcuZGF0YSA9IHJlczsKICAgICAgfSk7CiAgICB9LAogICAgZGVsOiBmdW5jdGlvbiBkZWwocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKCfliKDpmaQnICsgcm93LmlkKTsKICAgIH0sCiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQocm93KSB7CiAgICAgIGRvd25sb2FkRmlsZU9mZmxpbmUocm93LmRvd25sb2FkX2ZpbGUsICIiLmNvbmNhdChyb3cub2ZmbGluZV9uYW1lLCAiLnppcCIpKTsKICAgIH0sCiAgICBwYWdlQ2hhbmdlOiBmdW5jdGlvbiBwYWdlQ2hhbmdlKHBhZ2UpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi50YWJsZUNvbmZpZy5wYWdlID0gcGFnZTsgLy8gdGhpcy50YWJsZUNvbmZpZy5kYXRhID0gYXdhaXQgdGhpcy5nZXRMb2dzKHRoaXMuZ2V0UXVlcnlQYXJhbSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["out-task.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,OAAA,MAAA,mCAAA;AACA,SAAA,aAAA,QAAA,cAAA;AACA,SAAA,mBAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,CACA;AACA,UAAA,GAAA,EAAA,cADA;AAEA,UAAA,KAAA,EAAA;AAFA,SADA,EAKA;AACA,UAAA,GAAA,EAAA,WADA;AAEA,UAAA,KAAA,EAAA,MAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SALA,EAUA;AACA,UAAA,GAAA,EAAA,WADA;AAEA,UAAA,KAAA,EAAA,MAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAVA,EAeA;AACA,UAAA,GAAA,EAAA,UADA;AAEA,UAAA,KAAA,EAAA;AAFA,SAfA,EAmBA;AACA,UAAA,GAAA,EAAA,gBADA;AAEA,UAAA,KAAA,EAAA;AAFA,SAnBA,EAuBA;AACA,UAAA,IAAA,EAAA,QADA;AAEA,UAAA,KAAA,EAAA;AAFA,SAvBA,CAFA;AA8BA,QAAA,KAAA,EAAA,CAAA,SAAA,CA9BA;AA+BA,QAAA,IAAA,EAAA;AA/BA;AADA,KAAA;AAmCA,GAvCA;AAwCA,EAAA,OAxCA,qBAwCA;AACA,SAAA,OAAA;AACA,GA1CA;AA2CA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,MAAA,aAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,CAAA,IAAA,GAAA,GAAA;AACA,OAFA;AAGA,KALA;AAMA,IAAA,GANA,eAMA,GANA,EAMA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,GAAA,CAAA,EAAA;AACA,KARA;AASA,IAAA,QATA,oBASA,GATA,EASA;AACA,MAAA,mBAAA,CAAA,GAAA,CAAA,aAAA,YAAA,GAAA,CAAA,YAAA,UAAA;AACA,KAXA;AAYA,IAAA,UAZA,sBAYA,IAZA,EAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,IAAA,GAAA,IAAA,CADA,CAEA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAfA;AA3CA,CAAA","sourcesContent":["<template>\n    <div class=\"out_task\">\n        <Card>\n            <my-table\n                :column=\"tableConfig.column\"\n                :data=\"tableConfig.data\"\n                :tools=\"tableConfig.tools\"\n                :total=\"tableConfig.data.length\"\n                :page=\"tableConfig.page\"\n                :frontPage=\"true\"\n                @page-change=\"pageChange\"\n            >\n                <template #buttons></template>\n                <template #totalPro=\"{ row }\">\n                    <Progress :percent=\"row.totalPro\" :stroke-width=\"5\" />\n                </template>\n                <template #sdatetime=\"{ row }\">\n                    {{row.sdatetime | dateFormatter(1)}}\n                </template>\n                <template #edatetime=\"{ row }\">\n                    {{row.edatetime | dateFormatter(1)}}\n                </template>\n                <template #action=\"{ row }\">\n                    <Button type=\"success\" size=\"small\" @click=\"download(row)\">下载</Button>&nbsp;\n                    <!-- <Button type=\"warning\" size=\"small\" @click=\"del(row)\"\n                        >删除</Button\n                    > -->\n                </template>\n            </my-table>\n        </Card>\n    </div>\n</template>\n<script>\nimport myTable from '@/components/mytable/my-table.vue';\nimport { getExportTask } from '@/api/search';\nimport { downloadFileOffline } from '@/utils/util';\nexport default {\n    name: 'out-task',\n    components: { myTable },\n    data() {\n        return {\n            tableConfig: {\n                data: [],\n                column: [\n                    {\n                        key: 'offline_name',\n                        title: '名称',\n                    },\n                    {\n                        key: 'sdatetime',\n                        title: '开始时间',\n                        slot:'sdatetime',\n                    },\n                    {\n                        key: 'edatetime',\n                        title: '结束时间',\n                        slot:'edatetime',\n                    },\n                    {\n                        key: 'filesize',\n                        title: '文件大小(kb)',\n                    },\n                    {\n                        key: 'offline_status',\n                        title: '状态',\n                    },\n                    {\n                        slot: 'action',\n                        title: '操作',\n                    },\n                ],\n                tools: ['refresh'],\n                page:1\n            },\n        };\n    },\n    mounted() {\n        this.getTask();\n    },\n    methods: {\n        getTask() {\n            getExportTask().then((res) => {\n                this.tableConfig.data = res;\n            });\n        },\n        del(row) {\n            console.log('删除' + row.id);\n        },\n        download(row){\n            downloadFileOffline(row.download_file,`${row.offline_name}.zip`)\n        },\n        async pageChange(page) {\n\t\t\tthis.tableConfig.page = page;\n\t\t\t// this.tableConfig.data = await this.getLogs(this.getQueryParam());\n\t\t},\n    },\n};\n</script>\n"],"sourceRoot":"src/views/collect/outTask"}]}