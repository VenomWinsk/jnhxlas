{"remainingRequest":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hx_ygg/job/hx_logana3.0/web/src/views/operation/regular/regular.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hx_ygg/job/hx_logana3.0/web/src/views/operation/regular/regular.vue","mtime":1631238422177},{"path":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hx_ygg/job/hx_logana3.0/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNeVRhYmxlIGZyb20gJ0AvY29tcG9uZW50cy9teXRhYmxlL215LXRhYmxlLnZ1ZSc7CmltcG9ydCB7IGdldFJlZ3VsYXJzLCBkZWxSZWd1bGFycywgYWRkUmVndWxhciwgZWRpdFJlZ3VsYXIgfSBmcm9tICdAL2FwaS9vcGVyYXRpb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAncmVndWxhcicsCiAgICBjb21wb25lbnRzOiB7IE15VGFibGUgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdGFibGVDb25maWc6IHsKICAgICAgICAgICAgICAgIGNvbHVtbjogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAncmVnZXhfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5q2j5YiZ5ZCN56ewJywKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAncmVnZXhfdHlwZScsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5q2j5YiZ5YiG57G7JywKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAncmVnZXhfY29udGV4dCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5q2j5YiZ6KGo6L6+5byPJywKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAncmVnZXhfZGVzY3JpcHRpb24nLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ato+WImeaPj+i/sCcsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q6ICdhY3Rpb24nLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBkYXRhOiBbXSwKICAgICAgICAgICAgICAgIHRvb2xzOiBbXSwKICAgICAgICAgICAgICAgIHBhZ2U6MQogICAgICAgICAgICB9LAogICAgICAgICAgICBmb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIHBhcmFtRm9ybTogewogICAgICAgICAgICAgICAgcmVnZXhfbmFtZTogJycsCiAgICAgICAgICAgICAgICByZWdleF90eXBlOiAnJywKICAgICAgICAgICAgICAgIHJlZ2V4X2NvbnRleHQ6ICcnLAogICAgICAgICAgICAgICAgcmVnZXhfZGVzY3JpcHRpb246ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBjdXJyZW50RGF0YTp7fSwKICAgICAgICAgICAgbW9kYWxUeXBlOjAKICAgICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5nZXRSZWd1bGFyKCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOiOt+WPluato+WImeaVsOaNrgogICAgICAgIGdldFJlZ3VsYXIoKSB7CiAgICAgICAgICAgIGdldFJlZ3VsYXJzKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlQ29uZmlnLmRhdGEgPSByZXM7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLy8g5Yig6Zmk5pWw5o2uCiAgICAgICAgZGVsKHJvdykgewogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oewogICAgICAgICAgICAgICAgdGl0bGU6J+aYr+WQpuWIoOmZpOivpeadoeaVsOaNricsCiAgICAgICAgICAgICAgICBvbk9rOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgZGVsUmVndWxhcnMocm93LnJlZ2V4X2lkKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kTWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5nZXRSZWd1bGFyKCk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIG9wZW5Nb2RhbCh0eXBlLGRhdGEpewogICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpOwogICAgICAgICAgICB0aGlzLmZvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5tb2RhbFR5cGUgPSB0eXBlOwogICAgICAgICAgICBpZihkYXRhKXsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGEgPSBkYXRhOwogICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5wYXJhbUZvcm0pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtRm9ybVtrZXldID0gZGF0YVtrZXldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5Yib5bu65pWw5o2uCiAgICAgICAgc2F2ZSgpewogICAgICAgICAgICBhZGRSZWd1bGFyKHRoaXMucGFyYW1Gb3JtKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn5paw5aKe5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICB0aGlzLmdldFJlZ3VsYXIoKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOe8lui+keaVsOaNrgogICAgICAgIGVkaXQoKXsKICAgICAgICAgICAgbGV0IHBhcmFtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jdXJyZW50RGF0YSwgdGhpcy5wYXJhbUZvcm0pOwogICAgICAgICAgICBlZGl0UmVndWxhcihwYXJhbSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoJ+e8lui+keaIkOWKnycpOwogICAgICAgICAgICAgICAgdGhpcy5nZXRSZWd1bGFyKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBzYXZlT3JFZGl0KCl7CiAgICAgICAgICAgIGlmKHRoaXMubW9kYWxUeXBlKXsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJlc2V0Rm9ybSgpewogICAgICAgICAgICB0aGlzLnBhcmFtRm9ybSA9IHsKICAgICAgICAgICAgICAgIHJlZ2V4X25hbWU6ICcnLAogICAgICAgICAgICAgICAgcmVnZXhfdHlwZTogJycsCiAgICAgICAgICAgICAgICByZWdleF9jb250ZXh0OiAnJywKICAgICAgICAgICAgICAgIHJlZ2V4X2Rlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgcGFnZUNoYW5nZShwYWdlKSB7CgkJCXRoaXMudGFibGVDb25maWcucGFnZSA9IHBhZ2U7CgkJfSwKICAgIH0sCn07Cg=="},{"version":3,"sources":["regular.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"regular.vue","sourceRoot":"src/views/operation/regular","sourcesContent":["<template>\n    <div class=\"regular\">\n        <Card>\n            <my-table\n                :column=\"tableConfig.column\"\n                :data=\"tableConfig.data\"\n                :tools=\"tableConfig.tools\"\n                :page=\"tableConfig.page\"\n                :total=\"tableConfig.data.length\"\n                :frontPage=\"true\"\n                @page-change=\"pageChange\"\n            >\n                <template #buttons>\n                    <Button type=\"primary\" @click=\"openModal(0)\"\n                        ><Icon type=\"md-add\" />新增\n                    </Button>\n                </template>\n                <template #action=\"{ row }\">\n                    <Button type=\"info\" size=\"small\" @click=\"openModal(1,row)\">编辑</Button>&nbsp;\n                    <Button type=\"warning\" size=\"small\" @click=\"del(row)\"\n                        >删除</Button\n                    >\n                </template>\n            </my-table>\n        </Card>\n        <Modal v-model=\"formVisible\" :title=\"modalType?'编辑正则':'新增正则'\" @on-ok=\"saveOrEdit()\" :mask-closable=\"false\">\n            <Form :model=\"paramForm\">\n                <FormItem label=\"正则名称\" prop=\"regex_name\">\n                    <Input\n                        v-model=\"paramForm.regex_name\"\n                        placeholder=\"请输入名称\"\n                    ></Input>\n                </FormItem>\n                <FormItem label=\"正则分类\" prop=\"regex_type\">\n                    <Input\n                        v-model=\"paramForm.regex_type\"\n                        placeholder=\"请输入分类\"\n                    ></Input>\n                </FormItem>\n                <FormItem label=\"正则表达式\" prop=\"regex_context\">\n                    <Input\n                        v-model=\"paramForm.regex_context\"\n                        placeholder=\"请输入正则表达式\"\n                    ></Input>\n                </FormItem>\n                <FormItem label=\"正则描述\" prop=\"regex_description\">\n                    <Input\n                        type=\"textarea\"\n                        v-model=\"paramForm.regex_description\"\n                        placeholder=\"请输入正则描述信息\"\n                        :rows=\"4\"\n                    ></Input>\n                </FormItem>\n            </Form>\n        </Modal>\n    </div>\n</template>\n<script>\nimport MyTable from '@/components/mytable/my-table.vue';\nimport { getRegulars, delRegulars, addRegular, editRegular } from '@/api/operation';\nexport default {\n    name: 'regular',\n    components: { MyTable },\n    data() {\n        return {\n            tableConfig: {\n                column: [\n                    {\n                        key: 'regex_name',\n                        title: '正则名称',\n                    },\n                    {\n                        key: 'regex_type',\n                        title: '正则分类',\n                    },\n                    {\n                        key: 'regex_context',\n                        title: '正则表达式',\n                    },\n                    {\n                        key: 'regex_description',\n                        title: '正则描述',\n                    },\n                    {\n                        slot: 'action',\n                        title: '操作',\n                    },\n                ],\n                data: [],\n                tools: [],\n                page:1\n            },\n            formVisible: false,\n            paramForm: {\n                regex_name: '',\n                regex_type: '',\n                regex_context: '',\n                regex_description: '',\n            },\n            currentData:{},\n            modalType:0\n        };\n    },\n    mounted() {\n        this.getRegular();\n    },\n    methods: {\n        // 获取正则数据\n        getRegular() {\n            getRegulars().then((res) => {\n                this.tableConfig.data = res;\n            });\n        },\n        // 删除数据\n        del(row) {\n            let that = this;\n            this.$Modal.confirm({\n                title:'是否删除该条数据',\n                onOk:function(){\n                    delRegulars(row.regex_id).then(() => {\n                        that.$Message.success('删除成功');\n                        that.getRegular();\n                    })\n                }\n            })\n        },\n        openModal(type,data){\n            this.resetForm();\n            this.formVisible = true;\n            this.modalType = type;\n            if(data){\n                this.currentData = data;\n                for (const key in this.paramForm) {\n                    if (Object.hasOwnProperty.call(data, key)) {\n                        this.paramForm[key] = data[key];\n                    }\n                }\n            }\n        },\n        // 创建数据\n        save(){\n            addRegular(this.paramForm).then(() => {\n                this.$Message.success('新增成功');\n                this.getRegular();\n            })\n        },\n        // 编辑数据\n        edit(){\n            let param = Object.assign({}, this.currentData, this.paramForm);\n            editRegular(param).then(() => {\n                this.$Message.success('编辑成功');\n                this.getRegular();\n            })\n        },\n        saveOrEdit(){\n            if(this.modalType){\n                this.edit();\n            } else {\n                this.save();\n            }\n        },\n        resetForm(){\n            this.paramForm = {\n                regex_name: '',\n                regex_type: '',\n                regex_context: '',\n                regex_description: '',\n            }\n        },\n        async pageChange(page) {\n\t\t\tthis.tableConfig.page = page;\n\t\t},\n    },\n};\n</script>\n"]}]}